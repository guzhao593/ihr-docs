(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{516:function(a,s,t){a.exports=t.p+"assets/img/sahara.c4c67ccf.png"},517:function(a,s){a.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAByUAAAClCAIAAAB9d7YPAAAACXBIWXMAABnWAAAZ1gEY0crtAAAZv0lEQVR4nO3deXRd9WHg8d992qxdlvd9E/IGxjY24AVjwh5CCAklCylJE2iaaSadTtLT5UzaM2mbzpk5czKdNkmZpIUkpCEJKWEzO2HzigFjg21seceLbMuSrV16enf+EItlG1uWr7DkfD5/Pl399Hv351/C+5777o2mT58eAAAAAAA4Y6mzPQEAAAAAgHOE3goAAAAAkAy9FQAAAAAgGXorAAAAAEAy9FYAAAAAgGTorQAAAAAAydBbAQAAAACSobcCAAAAACRDbwUAAAAASIbeCgAAAACQDL0VAAAAACAZeisAAAAAQDL0VgAAAACAZOitAAAAAADJ0FsBAAAAAJKhtwIAAAAAJENvBQAAAABIht4KAAAAAJAMvRUAAAAAIBl6KwAAAABAMvRWAAAAAIBk6K0AAAAAAMnQWwEAAAAAkqG3AgAAAAAkQ28FAAAAAEiG3goAAAAAkAy9FQAAAAAgGXorAAAAAEAy9FYAAAAAgGTorQAAAAAAydBbAQAAAACSobcCAAAAACRDbwUAAAAASIbeCgAAAACQDL0VAAAAACAZeisAAAAAQDL0VgAAAACAZOitAAAAAADJ0FsBAAAAAJKhtwIAAAAAJENvBQAAAABIht4KAAAAAJAMvRUAAAAAIBl6KwAAAABAMvRWAAAAAIBk6K0AAAAAAMnQWwEAAAAAkqG3AgAAAAAkQ28FAAAAAEiG3goAAAAAkAy9FQAAAAAgGXorAAAAAEAy9FYAAAAAgGTorQAAAAAAydBbAQAAAACSobcCAAAAACRDbwUAAAAASIbeCgAAAACQDL0VAAAAACAZeisAAAAAQDL0VgAAAACAZOitAAAAAADJ0FsBAAAAAJKhtwIAAAAAJENvBQAAAABIht4KAAAAAJAMvRUAAAAAIBl6KwAAAABAMvRWAAAAAIBk6K0AAAAAAMnQWwEAAAAAkqG3AgAAAAAkQ28FAAAAAEiG3goAAAAAkAy9FQAAAAAgGXorAAAAAEAyss/2BAD6tPEVk4tKSk74o450urbmYPXe3XEm8yHPCvoaOwUAAKCT3gpwMhMrpw4bOeokBzQ21K9ZuXTnti0f2pSgD7JTAAAAOrmfAMAZKSwqXnDldVNnzDrbE4E+zU4BAAB+R+itAAmYefF8IQlOyU4BAADOee4nAJCMmRfPDyFsWPva2Z5I96RGLPz633xkdFT34v/65wer3FaTD42dQjdEecNnzV24YHLFuMFlxblRR1trQ8OhfW8+8r3nqlq7Hlg47so7brx8Yta+l5b85P7N9fFZmnCvyS4ZMnZIeteW2vZuHHzOnw0AgH5CbwVIzMyL53e2pG6q3rP72SW/6b35QN9kp3BSUfEFt9/+uQWDcqIQQojjELLzCgbmFRQPL8s69tCB8664enp5VhQmXHXl/BVbnth1LjXx1KRb/9MdV5VHGx/9zndfaT91PD23zwYAQD+itwIA0GcUzLr6UwsG5YSOg688+5uH1m7Z29geZecXlwwcktvYesyxcVtTSzqErBDijpamlnPses4or6ggOwod3T3+3D4bAAD9iN4KAEBfkVsx57zCKGSqX77vX5dv7/wWfZxuPnyo+fAJjm5Y+di9g1rnT0xVL3t++YHf9cLobAAA9A16KwAAfUSqqHxwThRCy9Ydb3fnlqUdhzc8/MCGXp9WP+FsAAD0CXorQD+QM/j82Qsum1o5YWh5SV521NHW1HSkpnb/xpX/8euNh4+6hikqHDr1oimTp4wZM2pw+cCC/LxUuqnh0Nu7Nq56+YWlu+pPcCu/OBOHkDf4wmsXLbxkwsiBeaGpbte6155+cGVVXZejT2fkrIrbvv6VxUUNL/zs7366NVMwYva18+fNGT9iYG7H4f1Vq5Y/vmT9/taejdzDszdo+sx586ZMrhhWXjogO25vqju0p2rbuueXrdzS1OUCsFT+qLlz519cWTF+UElBVkdzQ83OHRtWrX5pxe6GM3iDnUOXVFx42RUzplUOLS/K6Wiq379t6xtLVy5dc7DVJWhJslPO6Owlu1M6HzU2qmP9T//L/euyhs68/rIFc8aPGDggNNe9/ebrz/5m2VuHTjjprOysEEKcTqc/eHOkxn7qq1+7blDqqJfiw6/+8C8e2ZT+gN/IKp6wcN5l886bMLKscEBWKuryw7hhzb/+2UMb0yd5PFo0/IY7//QTw6MDK77/rSe3v/MN/95YwWjo9V/+xidHHn2j2uypN/z1/7uhy4TrVt/1l0uq0j09G727ggAA6K0AfVyqZMbnb/vMwiG57z06JmTnFZUMKSopj7bmR10qUt4FV9z++5OP/p/2rKLSEVNKR0yedtGsx+/6/urqYz9+pzuKp9zyVx+/ZGTuO/2hdHDFwqvHnzfw7n9Y8lbjmYwcsrKy8sbOvfWrV08fnP3O4INHzbj+UxNG5f7T99e89zm9ByOfhrzh8794y40Xlee8n1fyioeMmDxkWFnt+lVHVaSocOyVX7nlmilF74WYnOKyUdPLRk2bcem85+75wYvbm3r4BkOUP/HGW2+/YVxRKsSZdGtLJqd44NgLLxo7Y8ac5Q/96MdvShbJsFP65E6Jouz80Rd+9ss3zBr27rvLGTRp3kfGVwz88XceXt/Qw/nGmY50uqOzMEapVOqYgHrsuxt5xdc+e/3kwlTItNQdqq7LHTi0ZEBW5zjp1taOuLm92/dIPYGzvoKndTb6yAoCAJzT9FaAvq1g9jW3LBySEzdsWvL440u37TnYnI6y80tKy4cOHl7SWH/MBWBx26Gq9Rte3fjW5j37Dja2pFOFw8bNvvGaa2aUlZx/5U0LNv/w+cNdfiMqveQLNxcUdlSvfPLRx9fvOpIz+rLrP33TxOKhs65btGrzYwczPR45RDmj597+J5MmFTVuf/a3TzxXta+1eMqNN92yYEjxBYuvmPLGr9enezpyt6XK5nz5czfPKori9pq1K556Yt2mt+vTA4rKygeNnlI5tuGotpEqv/SOT187NT+017752DPPrtxRfSSTP3TMjCsXXz1veNGUxV+4vfa7d71xpOu5694bjMoXfuILHxtXEDdsfuTRB57ctL85zioefsG11918zdih8z5+274D339s/5m0nl425OIvhhBqXvtlpv244tyn2Cl9dKdkj772axXFxa1vv/jkkqff2tM4YOyia2+9cWLx4AuvvXzFxkcPZELIqrz2z//04rJ3r8+MoiiEULTwc/+woMuaNS27729/XNURQgiZXQ/8y1898M7hnReEHn11Z1c5Ez9x8/WTC6O26mV3/+rhVw+1xyF7UOX1f3TzovF5oXXbQ39z36raM7nOPNkVjPc/9qM/f6zzF7KmfekbfzBvQMeGR7/z3VeOfOAcT+ds9M4KAgDQld4K0KdljZ0+Pj8KmR2rHnxofXXn59o43VxXs7uuZvdxR7esfOB/ruzyStuOjc/c1TDgW1+8YkTehBnj8194vcsXg6PcwsLmrQ/dd/eju5rjEELYuOThZ6b98U2V2SOmjit6/OB7n7pPe+QQcsZVTGqveeVH//6rl2s7QgihfvUvnqmY8ek5JcXnTRuetf7tjp6O3E1FF131sZlFUZze++wv7vrF1obOQZpamw7V7KnatOqoIwtmLb52en4UN6z9yU/uXXG48zS37Nz0/D0797R86Y4rBhfPWnTZ+PWPbusSFrrzBqOCymtuqigMmeqn77/nwZ2d3y3uqN+35tf3Nef/4ZcXlY29at7k3z64vqUnb/BDkZ1fOviizw+Z8/kDq+/ty9XVTumrOyUqKClufOuX9/746eq2EEKo3/DIw89M/uObJmcPmzyuaMmBI3EIIUqlolTXRhhFnd31fanopBexfpABFfPmD0pFmX1PP/TgK4c6T2a6ZtOj9yyv+NbiUQMmzJxR+PLzDWcSXM/6CnZfr60gAABH++CLAQDoA+L2tvY4hNSgUeMGZZ368BNq31tV1RKHkCouKjymV8Tpvc/cf8+7CSmEEOL6nVsPxyGkSkuKTxk3TjJyCHGm/s173wsQIYQQWvft2psJISodVHKK//856cjdEpXNXFxZGIXMgdX/8eutJ6spUcG0+ZWFUejYvuKxVYe7JNW4pWrJsk2tIaTKp80cfsycu/MG8y+48PySKE5vf+mpXa1dR9784hsHMiEqnjhlfE9X9sOTNaB0+MI/nnLnQ0Mu/mIqp+BsT+cE7JS+ulPi9J4n7//pM52prvOV+p3bOk9dceep69j0+N995dvfvPPb37zz29/8yg8e35kJIa5/8Wd/fue7L9757W/e+bd/fc/mHlwJnho0ZFheCHHj1o1dLiTP7NuxrS4OUaq0/NQLeHJneQW7r9dWEACArlzfCtCnZXasWLd/0cLhxZNv+W93Tnlu5YqVG7fsaT7d6NDR0RFCCFE49qNx3FD1yo6uV1TFbS3tcQhRTnZONz5If+DIIcS7X31iRW2XqcZNW59/7vENqUz1qb+C+gEjp4pHjxl6giwRt+zfvbv2qC8+54+uGJcdhUz1y2t3nPwp51nDx4/PiUJm/xtbao6bVnxk+6ZdHVPPyxo0ZsiAaM/R56obbzBrdOXovChk9u3cftw1YJn9NTWZMCy7YPDQAdHGxuMy19B5dw6b94cnnfmHLWtAadHYuTWv/fJsT+QE7JS+ulPihi1rdrWcwak7c3EIIWRlH/MfvVF2Tk4IIbQ2tx3/K6c3fq+sYC/otysIANDf6K0AfVt62/P3/Fv+739+9siCoTM+euOM629oPrBr46tvrHp+7eaDx9eRKH/UlEsvP39a5cihg4vyc499DPfpOOY3T3vkOM4c1xDTe19euvdM5hwNmPqpz996/vEXMHZs/+X3v/fU+3dhTJWWlWWHEDIH95zieVRRbnFpQRRCpq7mRN+LjRsO12XikBUVFhZEoUtvPeUbjHJLB+ZHIWSNWfyNuxZ/0ARycnNO9PL+5T/cv/yHJ536h2HE5X8y+KLPd7Qc7uP3E7BTjjm2D+2UkwzZnYPOUOZg9d6meFRxfuXsCQPerHqvG+ZPmTa5KAqZum1VdWd4B9JeWcFe0E9XEACgH9JbAZL36vIXaw8dPOVh7W0nv5rsHR0HX370Hzesnr5g9pw5UyrHFecPHTfrunEzr7ps85Lf/Psj24/6/m/28Ms/dcdnJpdlhzhON9fW7T+Q7swAeQOHlBedyR1k+uHIqVQqvHNh26mO7N5dITOZ45vKqbxzA8q4rfHQoZYPaDodNfXd+ndwlqSbD+976Xu9VFrtlD4wcp/YKb2pteqFZ/ZeeNPI0gUfv71uycO/rdrfkjf0/Lkfv21maSpuWvvSS1s+nOfV9d6/jW7rpysIAND/6K0Ayas9dHD/3j1JjphpqF73xGPrnngsZ+CoqXMvnPeRmRWDSipv/L1bDv7gx8vf6UipEZfc+unJZdlx/frnfv6TFZtr2t/9yJxVcdvXv7K4uMd/vQ+NHDet+se/X3XsqycQNzU3xSFEqZLy4lQ4/ruzRx3Z2tzYHkJ2VFpeHIXmYztDVDywPBWFkK47cvx3/k81ibbGxnQcsjJ7V/7bd16q7peP8T6w6p7eG9xO6bWR+9dO6WWZtrZ0CDmposobb/3Gje++GscNm1689+7Xaj+U2fbev43u678rCADQ3+itAL0lZ9IFuZNmdOfIxid/1t1B22t3r31y97plW2791q1zy/PPmzE2Z/n6thBCiAaeXzkqJ4T027/96UubahL8uNwfRw7xkf37DscVg1Ijpk8sfaLmZEklfWDvnkyYlBo6ZULZI/sPdT0yKp0weUxWiNNvb959+nd57Nj/9sHMJaNSw0ePKQzV9af9+78b7JSzOHIf2Sm9KDV0zidvGj+gY9+L965qmlAxbkRJfqq9sWb/1jWvr3p1X1PXwByn0+k4hFRubl7XK0Fzhk07f2Cqe9cBn0gPV7Aj3RFCiHJzTnjPkdPWP1cQAKAf0lsBekvupBkFV3+uO0eeRkXqFDcd3H84DuVR6qjvh+YO6PxI3trc5ckmUdF58xZfWHh6f6Cr/jhy6Ni9bs3h+VeW5VQu/NjFm3628vAHXrgX1765Zu91E0dlVVxy9Yx1v3z9qPsWRoVTb1pQkRPi5q2rXzl8+qklrlm7ad9No0blVlzxsQnr79vWvVsi/q6xU87myH1jp/SeqHzW9HF5IbPtjWXL1xxYuubkR8f19Uc6QsgeMGbi4NSb716SnjNo7pc+fd2kvKjnvbVnKxjX1zXEoTA1cvzEkhU1h3v6t98frz+uIABAf6S3AvRlUdmMG+cOPbJ7x/YDtUeaGhtb2jI5hYOHVS684vLxqRC3VK3b9e6FSPGhtw+0xsMLssZf/skLdv/H+r3N2aVjJs68fP7i+aMKozP5+NwfRw4hpLc++dz6uTedX1I84w++VDThxeeWb9m1v7Ejt6CkfPC4C6aNO7L81891Pjo8PvjC8y8v+sylQ8rm3PmF7Ieffe7lHfsb4oJh42Zee+U1Fw9MhdZtS559tUexI7P3lSdXzf7CvNJhV3zma2VLn3rqzc07axvbMlHOgKKy0vJhQ0bkHlj9anVfvoFr/2Cn9Fyf2Cm9LTVy+sK5O1/aXNfSebPWOI7T7c3NbR3HnLzWt6u2pS+Ykj3iqo9+dPeSFzY15AybNP+TV192Xn7j4cbC0h6n7Z6tYKb6za2Hbhg2OP+8j/3RNZn7V23YWd8a5RSWDxoxLOxdu/tED706xTT67woCAPQreitAXxblj7zokqtGnuhRKnHbvpce+fWy9z9xt65b9tstlR+tyBt+2c3/deHNcQhRFEIcN+9Y9Ys15bd8oqLHT5LujyOHEOJDa3/xvaKcr36ksqx40pUfnXTl0T/MVC9Z/f6RTVUP/+DJ0v98zdSBQ2bd8ulZtxw1SKZp+xMP/OTJ/T18pE7ctP7nv3qk+NYbzi8ZOnvxbbMXhzjEIYTonQd7p9c9+Ppr1e0uJztDdkpPRw59ZKecluzKz/zvW2cPePdNR1EUQlQy+47vzXrnlfa3fv7NX77WEkKIa1a/svGaUdNKRiy440sLug6Taa3f+9b6ZQ+/sGr7uzczjQ+/+sjq+ZMuHV4wZvFXv7L4nRc7Dr322E9Xj/nDO2fk9XTKPVvBjq3LH142+fcXlBdWXPrZv7j0vdfjutV3/eXuI+nTPRt9ZgUBAM5xeitAXxbXb13+2prJQ4cNH1hWPCA3JyvqaGusrdldtWXt0ldf23S4y3WR6ern/vHuuusXLbho3IhB+VntTbW7d65fser5l3Y2z/69Wz7oT3RHfxw5hBBC89ZlP/qbqgsWzblo5vgxI8qKBkTtTU0Nh2v3VG17o+tjctp2rbr7v++c+ZG5s2eMHz2suCAn03K4dvemzWueX/XKloYzCRBxy54X/ulfNs+eM39e5aRxg8tL8rJCJt3S0lBXd3BP9Y5X9rSJrWfOTjkzfWGnnI4oilKpY+p6FN6/acRRt4+ID7313LLqymuH5xxXNFN5xaNmXHLLlAlD/u/dj77V2vk2W9566q7/c+S6j82aOqG8MKu9fu+Otb998emle1qnDG8Poce9tYcrGDe8+ZN/+37VvEXzKyeMLisakB23t7XU1+7btLf+/fs+nMbZCH1lBQEAzm3R9OnTz/YcAPquj3z0E8NGjjrd33rm0Qf2791TeM1t3bwr5YE/u+H0pwZ9iJ1C35QavPizX//cpPyO2tfvve8XSw+8U96jKDu/dNSFCz5520Wj8kL7hiX/47ur3bUUAICEnOiLdwAA0O9lj1l4/cSCKG5c/dT978XWEEIcp5vqdix/+oWN6RBCVnlZ6ZnckQEAALpwPwGAk3lt5dKc3JzT/a26mpremAz0WXYKfVJuaXlxFEKmufZI2/E/zRkyfGgqhNBxoKbWxa0AACRGbwU4mdqaA2d7CtAP2Cn0SS0H9x3MTBuRGnzZNTfsfnrp63sOtWRCCCHKKR1feemNVy0anoozh197dkOD3goAQGL0VgAAzkmZPc//fMV5X503pmjs5Xd8aVGcSTe3tKZDdn5+Xk4UhRC3177xq189uK5FbgUAIDl6KwAA56jGDU//81+/NeuyCy+YNnrksLLiwvzCKE43NxzcXb1j/cZXXly3+WD7qUcBAIDToLcCAHDu6qjbtfrhXasfPtvzAADgd0XqbE8AAAAAAOAcobcCAAAAACQjmj59+tmeAwAAAADAucD1rQAAAAAAydBbAQAAAACSobcCAAAAACRDbwUAAAAASIbeCgAAAACQDL0VAAAAACAZeisAAAAAQDL0VgAAAACAZOitAAAAAADJ0FsBAAAAAJKhtwIAAAAAJENvBQAAAABIht4KAAAAAJAMvRUAAAAAIBl6KwAAAABAMvRWAAAAAIBk6K0AAAAAAMnQWwEAAAAAkqG3AgAAAAAkQ28FAAAAAEiG3goAAAAAkAy9FQAAAAAgGXorAAAAAEAy9FYAAAAAgGTorQAAAAAAydBbAQAAAACSobcCAAAAACRDbwUAAAAASIbeCgAAAACQDL0VAAAAACAZeisAAAAAQDL0VgAAAACAZOitAAAAAADJ0FsBAAAAAJKhtwIAAAAAJENvBQAAAABIht4KAAAAAJAMvRUAAAAAIBl6KwAAAABAMvRWAAAAAIBk6K0AAAAAAMnQWwEAAAAAkqG3AgAAAAAkQ28FAAAAAEiG3goAAAAAkAy9FQAAAAAgGXorAAAAAEAy9FYAAAAAgGTorQAAAAAAydBbAQAAAACSobcCAAAAACRDbwUAAAAASIbeCgAAAACQDL0VAAAAACAZeisAAAAAQDL+P+nMMvG3RPGNAAAAAElFTkSuQmCC"},518:function(a,s,t){a.exports=t.p+"assets/img/SaharaAbstractMethod.6b8afe23.png"},519:function(a,s,t){a.exports=t.p+"assets/img/encryption.a8bce984.jpg"},520:function(a,s,t){a.exports=t.p+"assets/img/decryption.e6af5f8e.jpg"},737:function(a,s,t){"use strict";t.r(s);var n=t(30),e=Object(n.a)({},(function(){var a=this,s=a.$createElement,n=a._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[n("h1",{attrs:{id:"sahara-2-0开发使用文档"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#sahara-2-0开发使用文档"}},[a._v("#")]),a._v(" Sahara 2.0开发使用文档")]),a._v(" "),n("h2",{attrs:{id:"整体结构"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#整体结构"}},[a._v("#")]),a._v(" 整体结构")]),a._v(" "),n("p",[n("img",{attrs:{src:t(516),alt:"整体结构"}})]),a._v(" "),n("ul",[n("li",[a._v("sahara-configuration: 跨模块相关配置维护，仅供sahara框架内部使用;")]),a._v(" "),n("li",[a._v("sahara-core: 通用定义，如异常、分页结构，常用工具类")]),a._v(" "),n("li",[a._v("sahara-orm: 基于Mybatis-Plus增强处理，分页自动绑定参数、驼峰支持等；")]),a._v(" "),n("li",[a._v("sahara-web：web相关处理，目前提供跨域支持，以及js长整形精度丢失处理等")]),a._v(" "),n("li",[a._v("sahara-security: 安全框架")]),a._v(" "),n("li",[a._v("Sahara-test: 测试集成相关，目前提供Mybatis-Plus mapper层分片测试能力")])]),a._v(" "),n("p",[a._v("整体上基于Springboot 条件化配置的方式进行开发，实现功能按需加载或快速覆写，提升启动性能；")]),a._v(" "),n("h2",{attrs:{id:"sahara-core"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#sahara-core"}},[a._v("#")]),a._v(" sahara-core")]),a._v(" "),n("h3",{attrs:{id:"功能描述"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#功能描述"}},[a._v("#")]),a._v(" 功能描述")]),a._v(" "),n("ul",[n("li",[a._v("提供通用定义，如顶级异常、分页结构等；")]),a._v(" "),n("li",[a._v("提供部分常用静态工具类以bean注册，并持有相关对象，以供非bean类直接使用；")]),a._v(" "),n("li",[a._v("提供常用工具类实现；")])]),a._v(" "),n("h3",{attrs:{id:"模块依赖"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#模块依赖"}},[a._v("#")]),a._v(" 模块依赖")]),a._v(" "),n("p",[n("img",{attrs:{src:t(517),alt:"模块依赖"}})]),a._v(" "),n("h3",{attrs:{id:"功能详解"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#功能详解"}},[a._v("#")]),a._v(" 功能详解")]),a._v(" "),n("h4",{attrs:{id:"异常定义"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#异常定义"}},[a._v("#")]),a._v(" 异常定义")]),a._v(" "),n("p",[a._v("SaharaException继承RuntimeException，作为后续所有项目的顶级异常，所有异常的定义都需要继承该异常，以便后续做统一异常处理；")]),a._v(" "),n("h4",{attrs:{id:"pagedresult"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#pagedresult"}},[a._v("#")]),a._v(" PagedResult")]),a._v(" "),n("p",[a._v("分页数据查询返回给前端的数据结构")]),a._v(" "),n("h4",{attrs:{id:"applicationcontextprovider"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#applicationcontextprovider"}},[a._v("#")]),a._v(" ApplicationContextProvider")]),a._v(" "),n("p",[a._v("描述：应用上下文持有类，用于提供应用上下文，同时附加了一些简单的应用上下文操作\n使用场景：非Bean类情况下需要获取应用上下文可直接使用它获取；")]),a._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[a._v("TIP")]),a._v(" "),n("p",[a._v("Bean内部获取应用上下文直接注入ApplicationContext即可")])]),a._v(" "),n("h4",{attrs:{id:"applicationconfigurationprovider"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#applicationconfigurationprovider"}},[a._v("#")]),a._v(" ApplicationConfigurationProvider")]),a._v(" "),n("p",[a._v("描述：应用配置持有类，用于提供应用配置，同时附加了一些简单的应用配置操作\n使用场景：非Bean类情况下需要获取应用配置可直接使用它获取；")]),a._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[a._v("TIP")]),a._v(" "),n("p",[a._v("Bean内部获取应用配置直接注入Environment对象即可")])]),a._v(" "),n("h4",{attrs:{id:"线程池"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#线程池"}},[a._v("#")]),a._v(" 线程池")]),a._v(" "),n("ul",[n("li",[a._v("ThreadPoolManager: 线程池管理类，业务需要定义自己的线程池，内部自动根据线程池key命名线程名,格式为key-thread-%d")]),a._v(" "),n("li",[a._v("DefaultThreadPoolUncaughtExceptionHandler：线程池默认统一异常捕获处理器，默认只记录日志，需业务实现自身需求实现（除非显式catch抛出异常，否则直接是拿不到线程异常的）")])]),a._v(" "),n("div",{staticClass:"language-yml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("sahara")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("core")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("thread")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("thread-pools")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" COMMON_POOL   "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 线程池key")]),a._v("\n          "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("core-size")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("32")]),a._v("       "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 核心线程数")]),a._v("\n          "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("max-size")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("32")]),a._v("        "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 最大线程数")]),a._v("\n          "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("queue-size")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("100")]),a._v("     "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 任务队列数")]),a._v("\n          "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("keep-alive-time")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),a._v("   "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 线程空闲存活时间，默认3s")]),a._v("\n          policy：            "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 驱逐策略，")]),a._v("\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br"),n("span",{staticClass:"line-number"},[a._v("10")]),n("br")])]),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[a._v("TIP")]),a._v(" "),n("ul",[n("li",[a._v("默认情况下，线程未达到核心线程数，当有新任务时线程池会持续创建线程；")]),a._v(" "),n("li",[a._v("当达到核心线程后，当有新任务时线程池会将任务放进任务队列；")]),a._v(" "),n("li",[a._v("当任务队列塞满后，当有新任务时线程池会尝试创建新线程处理任务；")]),a._v(" "),n("li",[a._v("当达到最大线程数后，根据定义的驱逐策略进行任务驱逐；")])])]),a._v(" "),n("h4",{attrs:{id:"相关工具类"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#相关工具类"}},[a._v("#")]),a._v(" 相关工具类")]),a._v(" "),n("ul",[n("li",[n("strong",[a._v("ResponseUtils:")]),a._v(" 提供response相应对象的方法封装，一般用于Filter内对response对象的处理")]),a._v(" "),n("li",[n("strong",[a._v("DateTimeUtils:")]),a._v(" 提供对java 8的时间格式转换方法")])]),a._v(" "),n("h2",{attrs:{id:"sahara-orm"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#sahara-orm"}},[a._v("#")]),a._v(" sahara-orm")]),a._v(" "),n("p",[a._v("以MyBatis + Mybatis-Plus 为基础构建Sahara-orm，并将Mybatis-Plus的一些痛点进行修复。")]),a._v(" "),n("h3",{attrs:{id:"saharabasemapper"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#saharabasemapper"}},[a._v("#")]),a._v(" SaharaBaseMapper")]),a._v(" "),n("p",[a._v("继承BaseMapper，扩展自有Mapper方法（后续根据需要继续增强），项目所有Mapper接口必须继承SaharaBaseMapper，不再继承BaseMapper；")]),a._v(" "),n("p",[a._v("现有扩展方法：")]),a._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 按据条件删除")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("int")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("deleteByMap")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@Param")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Constants")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("WRAPPER"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Map")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Object")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v(" columnMap"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 按条件查询")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("List")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("T")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("selectByMap")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@Param")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Constants")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("WRAPPER"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Map")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Object")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v(" columnMap"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 更新所有字段，不管是否为空")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("int")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("alwaysUpdateSomeColumnById")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@Param")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Constants")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("ENTITY"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("T")]),a._v(" entity"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("  \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 根据 entity 条件，查询一条记录（相比于selectOne，即使有多条记录，也不会报错）")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("T")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("findOne")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@Param")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Constants")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("WRAPPER"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Wrapper")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("T")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v(" queryWrapper"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br")])]),n("h3",{attrs:{id:"wrapper支持驼峰映射"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#wrapper支持驼峰映射"}},[a._v("#")]),a._v(" Wrapper支持驼峰映射")]),a._v(" "),n("p",[a._v("SaharaQWrapper继承QueryWrapper，重写columnToString()方法，支持驼峰条件输入；\nSaharaUWrapper继承UpdateWrapper，重写columnToString()方法，支持驼峰条件输入；")]),a._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("SaharaQWrapper")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("EmpEmployee")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v(" wrapper "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("SaharaQWrapper")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\nwrapper"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("eq")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"employeeId"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("1251555362369392642L")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("   "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 支持驼峰写法")]),a._v("\nwrapper"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("eq")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"employee_id"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("1251555362369392642L")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("   "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 原生写法（支持）")]),a._v("\n\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br")])]),n("h3",{attrs:{id:"saharaqwrapper-saharauwrapper"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#saharaqwrapper-saharauwrapper"}},[a._v("#")]),a._v(" SaharaQWrapper/SaharaUWrapper")]),a._v(" "),n("p",[a._v("重新调整eq/ne/ge/gt等方法，"),n("strong",[a._v("默认value值为空时，不拼接条件")])]),a._v(" "),n("h3",{attrs:{id:"saharaqwrapper-saharauwrapper扩展"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#saharaqwrapper-saharauwrapper扩展"}},[a._v("#")]),a._v(" SaharaQWrapper/SaharaUWrapper扩展")]),a._v(" "),n("p",[a._v("严格模式，空值报错")]),a._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("SaharaQWrapper")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("EmpEmployee")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v(" wrapper "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("SaharaQWrapper")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\nwrapper"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("eqStrictly")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"employeeId"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("1251555362369392642L")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("  \n\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br")])]),n("h3",{attrs:{id:"xxxbymap支持驼峰映射"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#xxxbymap支持驼峰映射"}},[a._v("#")]),a._v(" xxxByMap支持驼峰映射")]),a._v(" "),n("p",[a._v("重写xxxByMap底层实现驼峰映射，自定义SaharaSqlInjector重新注入新实现的Mapper接口方法；")]),a._v(" "),n("p",[n("img",{attrs:{src:t(518),alt:"SaharaAbstractMethod"}})]),a._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[a._v("TIP")]),a._v(" "),n("p",[a._v("不再支持BaseMapper#selectByMap/deleteByMap，mapper接口必须继承SaharaBaseMapper")])]),a._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("HashMap")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Object")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v(" hashMap "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("HashMap")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\nhashMap"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("put")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"employeeCode"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("10000401")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("    "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 新写法")]),a._v("\nhashMap"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("put")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"employee_code"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("10000401")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("    "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 原生写法（不再支持）")]),a._v("\nempEmployeeMapper"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("deleteByMap")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("hashMap"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\nempEmployeeMapper"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("selectByMap")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("hashMap"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br")])]),n("h3",{attrs:{id:"分页自动绑定参数支持"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#分页自动绑定参数支持"}},[a._v("#")]),a._v(" 分页自动绑定参数支持")]),a._v(" "),n("p",[a._v("原生写法")]),a._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("interface")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("UserMapper")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("extends")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("BaseMapper")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("User")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("IPage")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("User")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("pageQuery")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@Param")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"pg"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("IPage")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("User")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v(" page"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@Param")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"user"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("User")]),a._v(" user"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n``` xml\n "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("select id"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"pageQuery"')]),a._v(" resultType"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"com.baomidou.mybatisplus.samples.pagination.entity.User"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n        select "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" from user\n        "),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("where"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n            "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("if")]),a._v(" test"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[a._v("\"user.name!=null and user.name!=''\"")]),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n                name like #"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("user"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n            "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("if")]),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("where"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("select"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br"),n("span",{staticClass:"line-number"},[a._v("10")]),n("br"),n("span",{staticClass:"line-number"},[a._v("11")]),n("br"),n("span",{staticClass:"line-number"},[a._v("12")]),n("br"),n("span",{staticClass:"line-number"},[a._v("13")]),n("br")])]),n("ul",[n("li",[a._v("Mybatis-Plus默认分页必须要使用@Param注解绑定参数，而且Mapper xml文件必须使用el表达式进行参数映射;")]),a._v(" "),n("li",[a._v("Mybatis-Plus底层逻辑写死必须分页必须使用IPage及其实现类或者List及其实现类进行分页（MybatisMapperMethod）；")]),a._v(" "),n("li",[a._v("Mybatis-Plus不支持RowBounds物理分页（NullPointException && 分页插件不支持）；")]),a._v(" "),n("li",[a._v("Mybatis-Plus分页相关代码侵入Mapper接口代理类，无法直接使用分页插件直接扩展；")])]),a._v(" "),n("p",[a._v("因此，重写了Mapper接口代理类生成逻辑SaharaMapperRegistry -> SaharaMapperProxy -> SaharaMapperMethod，及其自定义PageParam继承RowBouns（ParamNameResolver解析自动忽略RowBouns参数），实现分页参数自动绑定。")]),a._v(" "),n("p",[a._v("示例如下：")]),a._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("interface")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("EmpEmployeeMapper")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("extends")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("SaharaBaseMapper")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("EmpEmployee")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("IPage")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("EmpEmployee")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("pageQuery")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("PageParam")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("EmpEmployee")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v(" page"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("EmpEmployee")]),a._v(" empEmployee"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br")])]),n("div",{staticClass:"language-xml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[a._v("    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("select")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("id")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("pageQuery"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("resultMap")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("EmpEmployeeResultMap"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("parameterType")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("EmpEmployee"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        SELECT ee.*  FROM t_emp_employee ee\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("where")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n            "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("if")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("test")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("employeeId != null"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n                and employee_id = #{employeeId}\n            "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("if")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n            "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("if")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("test")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("employeeCode != null and employeeCode != ''"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n                and employee_code = #{employeeCode}\n            "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("if")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("where")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("select")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br"),n("span",{staticClass:"line-number"},[a._v("10")]),n("br"),n("span",{staticClass:"line-number"},[a._v("11")]),n("br")])]),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[a._v("TIP")]),a._v(" "),n("p",[a._v("Mapper接口分页方法入参必须包含PageParam或其子类；")])]),a._v(" "),n("h3",{attrs:{id:"使用batchmapperhelper替代iservice"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用batchmapperhelper替代iservice"}},[a._v("#")]),a._v(" 使用BatchMapperHelper替代IService")]),a._v(" "),n("p",[a._v("IService本质只是Mapper批量操作方法，从职责分明的角度来看，不应该使用业务Service实现IService或者继承ServiceImpl，那么为什么Mybatis-Plus作者为什么这么做呢？\n其实也是无奈之举，批量操作方法涉及根据频次刷新内存，BaseMapper的那一套没办法取到频次入参，直接提供不刷新内存的批量操作方法又会出现性能甚至内存溢出问题（"),n("a",{attrs:{href:"https://mp.baomidou.com/guide/faq.html#%E9%80%9A%E7%94%A8-insertbatch-%E4%B8%BA%E4%BB%80%E4%B9%88%E6%94%BE%E5%9C%A8-service-%E5%B1%82%E5%A4%84%E7%90%86",target:"_blank",rel:"noopener noreferrer"}},[a._v("作者解释"),n("OutboundLink")],1),a._v("）.")]),a._v(" "),n("p",[a._v("目前Orm框架这边封装"),n("strong",[a._v("BatchMapperHelper")]),a._v("工具类实现批量操作，同事也不直接支持在BaseMapper提供批量操作方法")]),a._v(" "),n("h3",{attrs:{id:"分页插件重写"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#分页插件重写"}},[a._v("#")]),a._v(" 分页插件重写")]),a._v(" "),n("p",[a._v("SaharaPaginationInterceptor支持从RowBounds取出分页参数，支持分页自动参数绑定，兼容sahara 1.x版本分页。")]),a._v(" "),n("h2",{attrs:{id:"sahara-web"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#sahara-web"}},[a._v("#")]),a._v(" sahara-web")]),a._v(" "),n("h3",{attrs:{id:"跨域支持"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#跨域支持"}},[a._v("#")]),a._v(" 跨域支持")]),a._v(" "),n("p",[a._v("对前后端开发联调提供跨域支持，需要显式配置，配置如下：")]),a._v(" "),n("div",{staticClass:"language-yml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("sahara")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("web")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("request")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("cors")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("enable")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true")]),a._v("\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br")])]),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[a._v("TIP")]),a._v(" "),n("p",[a._v("仅适用前后端开发联调，服务器环境由Nginx完成处理")])]),a._v(" "),n("h3",{attrs:{id:"js长整形精度支持"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#js长整形精度支持"}},[a._v("#")]),a._v(" js长整形精度支持")]),a._v(" "),n("p",[a._v("JS能精准表示的最大整数是 Math.pow(2, 53)，十进制即 9007199254740992，也就是说长整形超过16位就会发生精度丢失情况，而我们的Long主键是20位，会发生精度丢失情况，因此将长整形序列化输出为字符串类型；")]),a._v(" "),n("div",{staticClass:"language-yml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 考虑到后续主键都是以长整形为主，默认开启")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("sahara")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("web")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("json")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("long-to-string")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true")]),a._v("\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br")])]),n("h3",{attrs:{id:"分页结构转pageresult支持"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#分页结构转pageresult支持"}},[a._v("#")]),a._v(" 分页结构转PageResult支持")]),a._v(" "),n("p",[a._v("考虑到目前HR项目分页结构是以PageResult返回，而且前端列表组件也是以PageResult结构进行处理，添加MethodReturnValueHandler对IPage结构数据输出进行适配，需要显式配置，配置如下：")]),a._v(" "),n("div",{staticClass:"language-yml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("sahara")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("web")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("page")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("adapter")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true")]),a._v("\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br")])]),n("h3",{attrs:{id:"web相关工具类"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#web相关工具类"}},[a._v("#")]),a._v(" web相关工具类")]),a._v(" "),n("ul",[n("li",[n("strong",[a._v("ClientInfoHolder")]),a._v("  客户端请求信息线程变量，持有客户端和服务端ip；")]),a._v(" "),n("li",[n("strong",[a._v("PageUtils")]),a._v(" 分页辅助工具类，直接从请求url上获取分页参数，获取不到则按默认分页参数返回；")]),a._v(" "),n("li",[n("strong",[a._v("UrlPatternFinder")]),a._v(" 提供获取Pattern URL的方法封装")]),a._v(" "),n("li",[n("strong",[a._v("NetUtils")]),a._v(" 网络操作相关工具类，提供可用端口判断，获取IP等相关操作方法")])]),a._v(" "),n("h2",{attrs:{id:"sahara-security"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#sahara-security"}},[a._v("#")]),a._v(" sahara-security")]),a._v(" "),n("h3",{attrs:{id:"登录密码加密-解密"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#登录密码加密-解密"}},[a._v("#")]),a._v(" 登录密码加密/解密")]),a._v(" "),n("ol",[n("li",[a._v("前端请求sahara.server.public-key-url对应的url，拦截器拦截相应的url请求，返回公钥；")]),a._v(" "),n("li",[a._v("用户填完账号密码后，前端对密码进行加密，返回后端；")]),a._v(" "),n("li",[a._v("后端根据私钥进行解密后登录")])]),a._v(" "),n("p",[n("img",{attrs:{src:t(519),alt:"登录密码加密"}})]),a._v(" "),n("p",[n("img",{attrs:{src:t(520),alt:"登录密码解密"}})]),a._v(" "),n("h3",{attrs:{id:"单点登录参考配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#单点登录参考配置"}},[a._v("#")]),a._v(" 单点登录参考配置")]),a._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("sahara")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("security")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("server")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("enabled")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true")]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("logout")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("destroy-session")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true")]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("central-logout")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true")]),a._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 清除单点服务器session")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("clients")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" CasClient   "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 单点登录client")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("cas")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("enabled")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true")]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("login-url")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" https"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("//siam.tqls.cn/login  "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 单点登录页面地址")]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("prefix-url")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" https"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("//siam.tqls.cn/         "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 单点登录地址前缀，校验ticket/登出等需要用到")]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("callback-url")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" https"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("//xxx.tqls.cn/backend/callback   "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 单点服务器回调地址（返回ticket）")]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("protocol")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" CAS20   "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 协议，一般情况不用管")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("default-url")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" https"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("//xxx.tqls.cn/"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#/ihr/home    # 登录成功后默认跳转地址 ")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("logout-default-url")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[a._v("'https://siam.tqls.cn/login?service=https://xxx.tqls.cn/backend/callback?client_name=CasClient'")]),a._v("   "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 登出跳转地址")]),a._v("\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br"),n("span",{staticClass:"line-number"},[a._v("10")]),n("br"),n("span",{staticClass:"line-number"},[a._v("11")]),n("br"),n("span",{staticClass:"line-number"},[a._v("12")]),n("br"),n("span",{staticClass:"line-number"},[a._v("13")]),n("br"),n("span",{staticClass:"line-number"},[a._v("14")]),n("br"),n("span",{staticClass:"line-number"},[a._v("15")]),n("br"),n("span",{staticClass:"line-number"},[a._v("16")]),n("br")])]),n("h3",{attrs:{id:"sessionid解析（已登录鉴权）"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#sessionid解析（已登录鉴权）"}},[a._v("#")]),a._v(" sessionId解析（已登录鉴权）")]),a._v(" "),n("p",[a._v("核心类SaharaHttpSessionIdResolverComposite，同时支持解析cookie和请求头鉴权，解析cookie优先，请求头配置参考如下：")]),a._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("sahara")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("security")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" \n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("header-name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[a._v("'ihrAdminAuthorization'")]),a._v("    "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 鉴权请求头 ")]),a._v("\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br")])]),n("h3",{attrs:{id:"url鉴权（功能权限）"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#url鉴权（功能权限）"}},[a._v("#")]),a._v(" url鉴权（功能权限）")]),a._v(" "),n("p",[a._v("核心类SaharaPermissionAuthorizer")]),a._v(" "),n("h2",{attrs:{id:"sahara-test"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#sahara-test"}},[a._v("#")]),a._v(" sahara-test")]),a._v(" "),n("p",[a._v("仿造@MybatisTest写了@MybatisPlusTest，支持mybatis plus mapper接口层测试，示例如下：")]),a._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@RunWith")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("SpringRunner")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@MybatisPlusTest")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@MapperScan")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("basePackages "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"com.meicloud.example.simple.mapper"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("UserMapperTest")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@Resource")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("private")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("UserMapper")]),a._v(" userMapper"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@Test")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("deleteByName")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Assert")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("assertEquals")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" userMapper"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("deleteByName")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"NotExist"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Assert")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("assertEquals")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" userMapper"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("deleteByName")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"user1"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br"),n("span",{staticClass:"line-number"},[a._v("10")]),n("br"),n("span",{staticClass:"line-number"},[a._v("11")]),n("br"),n("span",{staticClass:"line-number"},[a._v("12")]),n("br"),n("span",{staticClass:"line-number"},[a._v("13")]),n("br"),n("span",{staticClass:"line-number"},[a._v("14")]),n("br")])])])}),[],!1,null,null,null);s.default=e.exports}}]);