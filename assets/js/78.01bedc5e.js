(window.webpackJsonp=window.webpackJsonp||[]).push([[78],{641:function(e,t,n){"use strict";n.r(t);n(212),n(137),n(52),n(139);var i=n(457),r=n(25),o=n.n(r),s=n(532),a=n.n(s),c={duration:0},u={data:function(){return{notifies:[],now:Date.now(),records:[]}},mounted:function(){var e=this,t=[];this.getRecords(),this.notifies.forEach((function(n,i){e.notify(n,i),t.push(i)})),this.setRecords(t),this.notifyVersion()},methods:{notify:function(e,t){if(this.isOvertime(e)||void 0!==t&&this.isRecorded(t))return!1;var n=null,r=Object(i.a)({},c,{title:this.getTitle(e),message:this.getMessage(e,(function(){return n})),type:e.type||"success"});n=this.$notify(r)},getTitle:function(e){var t=e.title||"";return e.date?"".concat(e.date," ").concat(t):t},getMessage:function(e,t){var n=this,i=this.$createElement,r="function"==typeof e.message?e.message(this.$createElement):e.message;if(e.href){return i("p",[r,i("el-button",{attrs:{type:"text"},style:"padding: 0; font-size: 14px; border: none",on:{click:function(){n.$router.push(e.href);var i=t();i&&i.close()}}},["查看"])])}return r},setRecords:function(e){var t=this,n=function(e){t.isRecorded(e)||(t.records=t.records.concat(e))};Array.isArray(e)?e.forEach(n):n(e);localStorage.setItem("notify",JSON.stringify(this.records))},getRecords:function(){var e=localStorage.getItem("notify");return this.records=e?JSON.parse(e):[],e},isRecorded:function(e){return this.records.indexOf(e)>-1},isOvertime:function(e){if(e.deadline)return this.now>new Date(e.deadline).getTime();if(e.date){var t=new Date(e.date).getTime()+6048e5;return this.now>t}},notifyVersion:function(){var e=this,t=(this.$createElement,localStorage.getItem("sahara-version")),n=function(){e.notify({title:"更新通知",message:function(e){return[e("div",["Sahara 更新至 ",o.a.version]),e("div",["Studio 更新至 ",a.a.version])]},href:"/component/changelog.html"})};t?o.a.version>t&&n():n(),localStorage.setItem("sahara-version",o.a.version)}}},f=n(30),d=Object(f.a)(u,(function(){var e=this.$createElement;return(this._self._c||e)("div")}),[],!1,null,null,null);t.default=d.exports}}]);