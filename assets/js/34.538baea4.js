(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{457:function(e,r,t){"use strict";function o(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function n(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function l(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?n(Object(t),!0).forEach((function(r){o(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}t.d(r,"a",(function(){return l}))},565:function(e,r,t){"use strict";t.r(r);t(212);function o(e,r){if(null==e)return{};var t,o,n=function(e,r){if(null==e)return{};var t,o,n={},l=Object.keys(e);for(o=0;o<l.length;o++)t=l[o],r.indexOf(t)>=0||(n[t]=e[t]);return n}(e,r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)t=l[o],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}var n=t(457),l={data:function(){var e=this;return{formProps:{labelWidth:"auto",validateOnRuleChange:!1,readonly:!1,model:{name:"",region:"",date:"",delivery:!1,resource:""},rules:{name:{required:!0,trigger:"blur",message:"必填"},region:{required:!0,trigger:"change",message:"必填"},date:{required:!0,trigger:"change",message:"必填"}},grants:{region:{disabled:!0},date:{hidden:!0},delivery:{disabled:!0}},toolbar:[function(){var r=e.formProps.readonly;return{text:r?"编辑":"保存",props:{type:"primary"},on:{click:function(t){r?e.formProps.readonly=!r:t.validate().then((function(){var t=e.$refs.form.getModel();console.log(t,e.formProps.model===t),e.$message({type:"success",message:"保存成功"}),e.formProps.readonly=!r})).catch((function(r){e.$message({type:"error",message:"保存失败"})}))}}}},function(){return{text:"重置",props:{type:"danger",hidden:e.formProps.readonly},on:{click:function(r){return e.formProps.readonly||r.resetFields()}}}}]}}},methods:{handleModelUpdate:function(e,r){this.$message({type:"info",message:"更新 ".concat(e,": ").concat(r)});var t={name:this.handleNameChange,date:this.handleDateChange,delivery:this.handleDeliveryChange};if("function"==typeof t[e])return t[e](r)},handleNameChange:function(e){var r=this.$refs.form;e?(r.setFieldDisabled("region",!1),r.setFieldHidden("date",!1)):(r.setFieldDisabled("region",!0),r.setFieldHidden("date",!0),r.setFieldValue("date",null))},handleDateChange:function(e){var r=this.$refs.form;r.setFieldDisabled("delivery",!e),e||r.setFieldValue("delivery",!1)},handleDeliveryChange:function(e){if(e)this.formProps.rules=Object(n.a)({},this.formProps.rules,{resource:{required:!0,trigger:"change",message:"必填"}});else{var r=this.formProps.rules,t=(r.resource,o(r,["resource"]));this.formProps.rules=t}}}},s=t(30),a=Object(s.a)(l,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"demo"},[e._m(0),e._v(" "),t("i-form-x",e._b({ref:"form",on:{"model-update":e.handleModelUpdate}},"i-form-x",e.formProps,!1),[t("i-form-item",{attrs:{label:"活动名称",prop:"name"}},[t("el-input",{model:{value:e.formProps.model.name,callback:function(r){e.$set(e.formProps.model,"name",r)},expression:"formProps.model.name"}})],1),e._v(" "),t("i-form-item",{attrs:{label:"活动区域",prop:"region"}},[t("i-selector",{attrs:{options:[{label:"上海",value:"shanghai"},{label:"北京",value:"beijing"}]},model:{value:e.formProps.model.region,callback:function(r){e.$set(e.formProps.model,"region",r)},expression:"formProps.model.region"}})],1),e._v(" "),t("i-form-item",{attrs:{label:"活动时间",prop:"date"}},[t("el-date-picker",{attrs:{type:"date"},model:{value:e.formProps.model.date,callback:function(r){e.$set(e.formProps.model,"date",r)},expression:"formProps.model.date"}})],1),e._v(" "),t("i-form-item",{attrs:{label:"即时配送",prop:"delivery"}},[t("el-switch",{attrs:{"active-text":"是","inactive-text":"否"},model:{value:e.formProps.model.delivery,callback:function(r){e.$set(e.formProps.model,"delivery",r)},expression:"formProps.model.delivery"}})],1),e._v(" "),t("i-form-item",{attrs:{label:"特殊资源",prop:"resource"}},[t("el-radio-group",{model:{value:e.formProps.model.resource,callback:function(r){e.$set(e.formProps.model,"resource",r)},expression:"formProps.model.resource"}},[t("el-radio",{attrs:{label:"线上品牌商赞助"}}),e._v(" "),t("el-radio",{attrs:{label:"线下场地免费"}})],1)],1)],1)],1)}),[function(){var e=this.$createElement,r=this._self._c||e;return r("ul",[r("h3",[this._v("DEMO:")]),this._v(" "),r("li",[this._v("\n      当活动名称为空时，活动区域不可编辑，活动时间清空并且隐藏\n    ")]),this._v(" "),r("li",[this._v("当活动时间为空时，即时配送不可编辑，即时配送置为“否”")]),this._v(" "),r("li",[this._v("当即时配送为“是”时，特殊资源新增必填校验")])])}],!1,null,null,null);r.default=a.exports}}]);