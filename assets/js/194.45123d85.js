(window.webpackJsonp=window.webpackJsonp||[]).push([[194],{746:function(s,t,a){"use strict";a.r(t);var n=a(30),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"git-提交规范"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#git-提交规范"}},[s._v("#")]),s._v(" Git 提交规范")]),s._v(" "),a("p",[s._v("良好的提交规范优势：")]),s._v(" "),a("ul",[a("li",[s._v("加快 "),a("code",[s._v("Code Review")]),s._v(" 的流程")]),s._v(" "),a("li",[s._v("根据 "),a("code",[s._v("Git Commit")]),s._v(" 的元数据生成更新日志")]),s._v(" "),a("li",[s._v("后续维护者可以知道相关代码被修改的原因")])]),s._v(" "),a("h2",{attrs:{id:"规范"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#规范"}},[s._v("#")]),s._v(" 规范")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("scope?"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": subject\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[a("p",[a("code",[s._v("subject")]),s._v(" 指内容描述，要简明扼要，用简单的语句即可，"),a("strong",[s._v("必填")]),s._v("。")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("scope")]),s._v(" 指范围，可以是一个文件的地址，如 "),a("code",[s._v("/lib/utils")]),s._v("。也可以是某个功能点，不建议超过两个单词，选填。")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("type")]),s._v(" 类型，"),a("strong",[s._v("必填")]),s._v("：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("feat")]),s._v(" 新增功能")]),s._v(" "),a("li",[a("code",[s._v("fix")]),s._v(" 修复 Bug")]),s._v(" "),a("li",[a("code",[s._v("perf")]),s._v(" 优化程序，比如提升性能和体验")]),s._v(" "),a("li",[a("code",[s._v("chore")]),s._v(" 改变构建流程、增加或更新依赖库等")]),s._v(" "),a("li",[a("code",[s._v("build")]),s._v(" 代码构建")]),s._v(" "),a("li",[a("code",[s._v("docs")]),s._v(" 修改文档，比如 "),a("code",[s._v("README")]),s._v("、"),a("code",[s._v("CHANGELOG")]),s._v(" 等")]),s._v(" "),a("li",[a("code",[s._v("refactor")]),s._v(" 代码重构，没有功能新增或问题修复（当然，也不包括问题新增")]),s._v(" "),a("li",[a("code",[s._v("revert")]),s._v(" 回滚到上一个版本")]),s._v(" "),a("li",[a("code",[s._v("style")]),s._v(" 代码格式化，例如修改空格、换行、缩进、逗号、冒号等")]),s._v(" "),a("li",[a("code",[s._v("test")]),s._v(" 测试用例，包括单元测试、集成测试\n")])])])]),s._v(" "),a("h2",{attrs:{id:"查看日志"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看日志"}},[s._v("#")]),s._v(" 查看日志")]),s._v(" "),a("p",[s._v("查看提交日志：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" log --online --decorate\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"项目配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#项目配置"}},[s._v("#")]),s._v(" 项目配置")]),s._v(" "),a("p",[s._v("通过引入 "),a("a",{attrs:{href:"https://github.com/conventional-changelog/commitlint",target:"_blank",rel:"noopener noreferrer"}},[s._v("commitlint"),a("OutboundLink")],1),s._v(" 工具来辅助和约束，和相关检测规范："),a("a",{attrs:{href:"https://www.npmjs.com/package/@commitlint/config-conventional",target:"_blank",rel:"noopener noreferrer"}},[s._v("@commitlint/config-conventional"),a("OutboundLink")],1),s._v("：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i @commitlint/cli @commitlint/config-conventional -D\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("在项目根路径中增加 "),a("code",[s._v("commitlint.config.js")]),s._v(" 配置文件：")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@commitlint/config-conventional'")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("使用 "),a("a",{attrs:{href:"https://github.com/typicode/husky",target:"_blank",rel:"noopener noreferrer"}},[s._v("husky"),a("OutboundLink")],1),s._v(" 工具在提交时，执行以上检查：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i husky -D\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("在 "),a("code",[s._v("package.json")]),s._v(" 中添加 "),a("code",[s._v("Git Hooks")]),s._v("：")]),s._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"husky"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"hooks"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"commit-msg"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"commitlint -E HUSKY_GIT_PARAMS"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);